/*global define, require, module */
(function(a){a(function(){var b={extend:function(m){var j,k,l,d,g=arguments.length,e=b.isBool(arguments[g-1]),f=e?g-2:g-1,c=!m,h=e?arguments[f+1]:false;
m=m||{};l=b.toArray(arguments,1,f+1);for(d=0;d<l.length;d++){k=l[d];for(j in k){if(k.hasOwnProperty(j)&&(c||!h||m.hasOwnProperty(j))){m[j]=k[j];
}}c=false;}return m;},filter:function(d,f){var e={},c=b.isArray(f)?f:f.split(",");
b.each(c,function(g,h){e[h]=d[h];});return e;},toArray:function(c,d,e){return Array.prototype.slice.call(c,d||0,e||c.length);
},isArray:function(c){return c&&c.constructor===Array;},isFunction:function(c){return typeof c==="function";
},isString:function(c){return typeof c==="string";},isBool:function(c){return typeof c==="boolean";
},trim:function(c){return c.replace(/^\s\s*/,"").replace(/\s\s*$/,"");},split:function(e,c){var d=[];
b.each(e.split(e,c),function(g,f){d.push(b.trim(f));});return d;},format:function(d){var c=(arguments.length===2&&b.isArray(arguments[1]))?arguments[1]:this.toArray(arguments,1);
return d.replace(/\{(\d+)\}/g,function(e,f){return typeof c[f]!=="undefined"?String(c[f]):e;
});},each:function(d,c){var e,f;if(b.isString(d)){d=d.split(",");}if(b.isArray(d)){for(e=0;
e<d.length;e++){f=b.isString(d[e])?b.trim(d[e]):d[e];if(c.call(f,e,f)===false){break;
}}}else{for(e in d){if(d.hasOwnProperty(e)){if(c.call(d[e],e,d[e])===false){break;
}}}}},event:function(c,e,d){if(b.isFunction(c)){c.call(e,d);}},donothing:function(){},expectOpts:function(c,d){if((c?c.length:0)<d){throw ({name:"AssertionError",type:"iq",message:b.format("Expected to receive at least {0} argument",d.toString())});
}},formatAssert:function(c,e,d){return !e?"":(c?c+": ":"")+d?b.format(e,b.isArray(d)?d:b.toArray(arguments,2)):"";
}};return b;});}(typeof define==="function"?define:function(a){if(typeof module!=="undefined"){module.exports=a();
}else{this.common=this.common||{};this.common.utils=a();}}));